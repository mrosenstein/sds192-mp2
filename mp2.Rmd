---
title: "Mini Project 2"
author: "Mae Rosenstein, Chelsey Chen, Talia Seshaiah"
date: "March 7, 2018"
output: html_document
---

We looked at contribution amount to each candidates and how that differs by candidate's party affiliation. We also looked at how contributions change over time by using time series data.

Data wrangling:
1) We first filter out
2) Join the candidates dataset with contribution dataset by candidate's id number;
3) We only looked at transaction type 24E, which is ( );
4) We only select variables that we are interestd in looking at: candidate's party affiliation, transaction amount, transaction date, candidate name, and the source of the contributions (the entity type (CAN, CCM, COM, ORG, PAC, PTY));
5) We mutate the transaction date from numeric numbers to strings;
```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r}
library(tidyverse)
glimpse(house_elections)
glimpse(candidates)
glimpse(committees)
glimpse(contributions)
```


```{r}
contri_candi <- contributions %>% 
  left_join(candidates, by = "cand_id") %>%
  filter(transaction_type == "24E") %>%
  select(cand_party_affiliation, transaction_amt, transaction_dt, cand_name, entity_type) %>%
  mutate(year = as.Date(transaction_dt, "%m%d%Y")) %>%
  select(-transaction_dt) %>%
  group_by(cand_name,cand_party_affiliation,year) %>%
  summarize(total_amt = sum(transaction_amt))
           
glimpse(contri_candi)
```

```{r}
my_plot <- ggplot(aes(x=year, y= total_amt,group=cand_party_affiliation)) +
  geom_point()
  

```


